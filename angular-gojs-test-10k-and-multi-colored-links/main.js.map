{"version":3,"sources":["webpack:///./src/$_lazy_route_resource lazy namespace object","webpack:///./src/app/app.component.css","webpack:///./src/app/app.component.html","webpack:///./src/app/app.component.ts","webpack:///./src/app/app.module.ts","webpack:///./src/app/diagram-editor/MultiColoredLinkTool.ts","webpack:///./src/app/diagram-editor/diagram-editor.component.css","webpack:///./src/app/diagram-editor/diagram-editor.component.html","webpack:///./src/app/diagram-editor/diagram-editor.component.ts","webpack:///./src/app/material.module.ts","webpack:///./src/app/modal/modal.component.css","webpack:///./src/app/modal/modal.component.html","webpack:///./src/app/modal/modal.component.ts","webpack:///./src/main.ts"],"names":[],"mappings":"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","file":"main.js","sourcesContent":["function webpackEmptyAsyncContext(req) {\n\t// Here Promise.resolve().then() is used instead of new Promise() to prevent\n\t// uncaught exception popping up in devtools\n\treturn Promise.resolve().then(function() {\n\t\tvar e = new Error(\"Cannot find module '\" + req + \"'\");\n\t\te.code = 'MODULE_NOT_FOUND';\n\t\tthrow e;\n\t});\n}\nwebpackEmptyAsyncContext.keys = function() { return []; };\nwebpackEmptyAsyncContext.resolve = webpackEmptyAsyncContext;\nmodule.exports = webpackEmptyAsyncContext;\nwebpackEmptyAsyncContext.id = \"./src/$$_lazy_route_resource lazy recursive\";","module.exports = \"\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsImZpbGUiOiJzcmMvYXBwL2FwcC5jb21wb25lbnQuY3NzIn0= */\"","module.exports = \"<div>\\r\\n  Click on a node to edit its text or change its color.\\r\\n  <app-diagram-editor [model]=\\\"model\\\">\\r\\n  </app-diagram-editor>\\r\\n</div>\\r\\n\"","import { Component } from '@angular/core';\r\nimport * as go from 'gojs';\r\n\r\n@Component({\r\n  selector: 'app-root',\r\n  templateUrl: './app.component.html',\r\n  styleUrls: ['./app.component.css']\r\n})\r\nexport class AppComponent {\r\n  model = null;\r\n\r\n  constructor() {\r\n    const blocks = [\r\n      { key: 1, text: 'Device 1', color: 'lightblue' },\r\n      { key: 2, text: 'Device 2', color: 'orange' },\r\n    ];\r\n\r\n    for(let i = 3; i < 10000; i++) {\r\n      blocks.push(\r\n        { key: i, text: 'Device ' + i, color: 'lightgreen' }\r\n      )\r\n    }\r\n    console.log(blocks);\r\n\r\n    const links = [\r\n        { from: 1, to: 2, colors: [ 'red', 'blue' ]},\r\n      ];\r\n\r\n    for (let i = 2; i < 10000; i++) {\r\n      links.push(\r\n        { from: i - 1, to: i, colors: [ 'red', 'blue' ]}\r\n      );\r\n    }\r\n\r\n    this.model = new go.GraphLinksModel(\r\n      blocks,\r\n      links\r\n    );\r\n  }\r\n\r\n}\r\n","import { BrowserModule } from '@angular/platform-browser';\r\nimport { NgModule } from '@angular/core';\r\nimport { BrowserAnimationsModule } from '@angular/platform-browser/animations';\r\nimport { MaterialModule } from './material.module';\r\n\r\nimport { AppComponent } from './app.component';\r\nimport { ModalComponent } from './modal/modal.component';\r\nimport { DiagramEditorComponent } from './diagram-editor/diagram-editor.component';\r\n\r\n@NgModule({\r\n  declarations: [AppComponent, ModalComponent, DiagramEditorComponent],\r\n  imports: [BrowserModule, BrowserAnimationsModule, MaterialModule],\r\n  providers: [],\r\n  bootstrap: [AppComponent],\r\n  entryComponents: [ModalComponent]\r\n})\r\nexport class AppModule {}\r\n","import * as go from 'gojs';\r\n\r\nexport class MultiColoredLinkTool extends go.Link {\r\n  public makeGeometry() {\r\n      var geo = go.Link.prototype.makeGeometry.call(this);\r\n      var colors = this.data.colors;\r\n      if (Array.isArray(colors) && colors.length > 0) {\r\n        var paths = [];  // find all path Shapes\r\n        this.elements.each(function(elt) {\r\n          if (elt.isPanelMain && elt instanceof go.Shape) {\r\n            paths.push(elt);\r\n          }\r\n        });\r\n        var numcolors = Math.min(colors.length, paths.length);\r\n        if (numcolors > 0) {\r\n          var seclen = geo.flattenedTotalLength / numcolors;  // length of each color section\r\n          for (var i = 0; i < paths.length; i++) {  // go through all path Shapes\r\n            var shape = paths[i];\r\n            if (i < numcolors) {\r\n              shape.visible = true;  // make sure this Shape can be seen\r\n              shape.stroke = colors[i];  // and assign a color\r\n              if (i === 0) {  // and a stroke dash array so that it only draws the needed fraction\r\n                shape.strokeDashArray = [seclen, 99999];\r\n              } else {\r\n                shape.strokeDashArray = [0, i * seclen, seclen, 99999];\r\n              }\r\n            } else {  // unneeded Shapes are not visible\r\n              shape.visible = false;\r\n            }\r\n          }\r\n        }\r\n      }\r\n      return geo;\r\n  }\r\n}\r\n\r\n    // function MultiColoredLink() {\r\n    //   go.Link.call(this);\r\n    // }\r\n","module.exports = \".diagramsPanel {\\r\\n  width:100%;\\r\\n  white-space:nowrap;\\r\\n}\\r\\n\\r\\n.diagramDiv {\\r\\n  border: 1px solid black;\\r\\n  display: inline-block;\\r\\n  vertical-align: top;\\r\\n  width: 100%;\\r\\n  height: 80vh;\\r\\n}\\r\\n\\r\\n.paletteDiv {\\r\\n  border: 1px solid black;\\r\\n  display: inline-block;\\r\\n  vertical-align: top;\\r\\n  width: 19%;\\r\\n  height: 80vh;\\r\\n}\\r\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNyYy9hcHAvZGlhZ3JhbS1lZGl0b3IvZGlhZ3JhbS1lZGl0b3IuY29tcG9uZW50LmNzcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQTtFQUNFLFVBQVU7RUFDVixrQkFBa0I7QUFDcEI7O0FBRUE7RUFDRSx1QkFBdUI7RUFDdkIscUJBQXFCO0VBQ3JCLG1CQUFtQjtFQUNuQixXQUFXO0VBQ1gsWUFBWTtBQUNkOztBQUVBO0VBQ0UsdUJBQXVCO0VBQ3ZCLHFCQUFxQjtFQUNyQixtQkFBbUI7RUFDbkIsVUFBVTtFQUNWLFlBQVk7QUFDZCIsImZpbGUiOiJzcmMvYXBwL2RpYWdyYW0tZWRpdG9yL2RpYWdyYW0tZWRpdG9yLmNvbXBvbmVudC5jc3MiLCJzb3VyY2VzQ29udGVudCI6WyIuZGlhZ3JhbXNQYW5lbCB7XHJcbiAgd2lkdGg6MTAwJTtcclxuICB3aGl0ZS1zcGFjZTpub3dyYXA7XHJcbn1cclxuXHJcbi5kaWFncmFtRGl2IHtcclxuICBib3JkZXI6IDFweCBzb2xpZCBibGFjaztcclxuICBkaXNwbGF5OiBpbmxpbmUtYmxvY2s7XHJcbiAgdmVydGljYWwtYWxpZ246IHRvcDtcclxuICB3aWR0aDogMTAwJTtcclxuICBoZWlnaHQ6IDgwdmg7XHJcbn1cclxuXHJcbi5wYWxldHRlRGl2IHtcclxuICBib3JkZXI6IDFweCBzb2xpZCBibGFjaztcclxuICBkaXNwbGF5OiBpbmxpbmUtYmxvY2s7XHJcbiAgdmVydGljYWwtYWxpZ246IHRvcDtcclxuICB3aWR0aDogMTklO1xyXG4gIGhlaWdodDogODB2aDtcclxufSJdfQ== */\"","module.exports = \"<div class=\\\"diagramsPanel\\\">\\r\\n  <div #diagramDiv class=\\\"diagramDiv\\\"></div>\\r\\n</div>\"","import { Component, OnInit, ViewChild, ElementRef, Input, Output, EventEmitter } from '@angular/core';\r\nimport { MatDialog } from '@angular/material';\r\nimport * as go from 'gojs';\r\nimport { ModalComponent } from '../modal/modal.component';\r\nimport { MultiColoredLinkTool } from './MultiColoredLinkTool';\r\n\r\n@Component({\r\n  selector: 'app-diagram-editor',\r\n  templateUrl: './diagram-editor.component.html',\r\n  styleUrls: ['./diagram-editor.component.css']\r\n})\r\nexport class DiagramEditorComponent implements OnInit {\r\n  private diagram: go.Diagram = new go.Diagram();\r\n  private palette: go.Palette = new go.Palette();\r\n\r\n  @ViewChild('diagramDiv')\r\n  private diagramRef: ElementRef;\r\n\r\n  @ViewChild('paletteDiv')\r\n  private paletteRef: ElementRef;\r\n\r\n  @Input()\r\n  get model(): go.Model { return this.diagram.model; }\r\n  set model(val: go.Model) { this.diagram.model = val; }\r\n\r\n  @Output()\r\n  nodeSelected = new EventEmitter<go.Node|null>();\r\n\r\n  @Output()\r\n  modelChanged = new EventEmitter<go.ChangedEvent>();\r\n\r\n  constructor(public dialog: MatDialog) {\r\n    const $ = go.GraphObject.make;\r\n    // Place GoJS license key here:\r\n    // (go as any).licenseKey = \"...\"\r\n    this.diagram = new go.Diagram();\r\n    this.diagram.initialContentAlignment = go.Spot.Center;\r\n    this.diagram.allowDrop = true;\r\n    this.diagram.undoManager.isEnabled = true;\r\n    this.diagram.addDiagramListener(\"ChangedSelection\",\r\n        e => {\r\n          const node = e.diagram.selection.first();\r\n          this.nodeSelected.emit(node instanceof go.Node ? node : null);\r\n        });\r\n    this.diagram.addModelChangedListener(e => e.isTransactionFinished && this.modelChanged.emit(e));\r\n\r\n    this.diagram.nodeTemplate =\r\n      $(go.Node, \"Auto\",\r\n        {\r\n          click: (e, node: go.Node) => { this.openDialog(node.data); }\r\n        },\r\n        new go.Binding(\"location\", \"loc\", go.Point.parse).makeTwoWay(go.Point.stringify),\r\n        $(go.Shape,\r\n          {\r\n            fill: \"white\", strokeWidth: 0,\r\n            portId: \"\", cursor: \"pointer\",\r\n            // allow many kinds of links\r\n            fromLinkable: true, toLinkable: true,\r\n            fromLinkableSelfNode: true, toLinkableSelfNode: true,\r\n            fromLinkableDuplicates: true, toLinkableDuplicates: true\r\n          },\r\n          new go.Binding(\"fill\", \"color\")),\r\n        $(go.TextBlock,\r\n          { margin: 8 /*, editable: true*/ },\r\n          new go.Binding(\"text\")/*.makeTwoWay()*/)\r\n      );\r\n\r\n\r\n\r\n    // this.diagram.linkTemplate =\r\n    //   $(go.Link,\r\n    //     // allow relinking\r\n    //     { relinkableFrom: true, relinkableTo: true },\r\n    //     $(go.Shape),\r\n    //     $(go.Shape, { toArrow: \"OpenTriangle\" })\r\n    //   );\r\n    this.diagram.linkTemplate =\r\n      $(MultiColoredLinkTool,\r\n        {\r\n          routing: go.Link.AvoidsNodes, corner: 10,\r\n          //relinkableFrom: true, relinkableTo: true,\r\n        },\r\n        $(go.Shape, { isPanelMain: true, strokeWidth: 4 }),\r\n        $(go.Shape, { isPanelMain: true, strokeWidth: 4 })\r\n      );\r\n\r\n    this.palette = new go.Palette();\r\n    this.palette.nodeTemplateMap = this.diagram.nodeTemplateMap;\r\n\r\n    // initialize contents of Palette\r\n    this.palette.model.nodeDataArray =\r\n      [\r\n        { text: \"Alpha\", color: \"lightblue\" },\r\n        { text: \"Beta\", color: \"orange\" },\r\n        { text: \"Gamma\", color: \"lightgreen\" },\r\n        { text: \"Delta\", color: \"pink\" },\r\n        { text: \"Epsilon\", color: \"yellow\" }\r\n      ];\r\n  }\r\n\r\n  ngOnInit() {\r\n    this.diagram.div = this.diagramRef.nativeElement;\r\n    this.palette.div = this.paletteRef.nativeElement;\r\n  }\r\n\r\n  openDialog(data: any): void {\r\n    const dialogRef = this.dialog.open(ModalComponent, {\r\n      width: '250px',\r\n      data: { key: data.key, text: data.text, color: data.color }\r\n    });\r\n\r\n    dialogRef.afterClosed().subscribe(result => {\r\n      if (result) {\r\n        this.diagram.model.commit(function(m) {\r\n          m.set(data, \"text\", result.text);\r\n          m.set(data, \"color\", result.color);\r\n        }, \"modified node properties\");\r\n      }\r\n    });\r\n  }\r\n}\r\n","import { NgModule } from '@angular/core';\r\n\r\nimport { MatDialogModule, MatFormFieldModule, MatButtonModule, MatInputModule } from '@angular/material';\r\nimport { FormsModule } from '@angular/forms';\r\n\r\n@NgModule({\r\n  exports: [FormsModule, MatDialogModule, MatFormFieldModule, MatButtonModule, MatInputModule]\r\n})\r\nexport class MaterialModule {}\r\n","module.exports = \"\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsImZpbGUiOiJzcmMvYXBwL21vZGFsL21vZGFsLmNvbXBvbmVudC5jc3MifQ== */\"","module.exports = \"<h1 mat-dialog-title>Node key: {{data.key}}</h1>\\r\\n<div mat-dialog-content>\\r\\n  text:\\r\\n  <mat-form-field>\\r\\n    <input matInput [(ngModel)]=\\\"data.text\\\">\\r\\n  </mat-form-field>\\r\\n  color:\\r\\n  <mat-form-field>\\r\\n    <input matInput [(ngModel)]=\\\"data.color\\\">\\r\\n  </mat-form-field>\\r\\n</div>\\r\\n<div mat-dialog-actions>\\r\\n  <button mat-button [mat-dialog-close]=\\\"data\\\" cdkFocusInitial>OK</button>\\r\\n  <button mat-button [mat-dialog-close]=\\\"null\\\">Cancel</button>\\r\\n</div>\"","import { Component, OnInit, Inject } from '@angular/core';\r\nimport { MatDialogRef, MAT_DIALOG_DATA} from '@angular/material';\r\n\r\n@Component({\r\n  selector: 'app-modal',\r\n  templateUrl: './modal.component.html',\r\n  styleUrls: ['./modal.component.css']\r\n})\r\nexport class ModalComponent implements OnInit {\r\n  constructor(\r\n    public dialogRef: MatDialogRef<ModalComponent>,\r\n    @Inject(MAT_DIALOG_DATA) public data: any) {}\r\n\r\n  ngOnInit() {\r\n  }\r\n}\r\n","import { enableProdMode } from '@angular/core';\nimport { platformBrowserDynamic } from '@angular/platform-browser-dynamic';\n\nimport { AppModule } from './app/app.module';\n// import { environment } from './environments/environment';\n\n// if (environment.production) {\n//   enableProdMode();\n// }\n\nplatformBrowserDynamic().bootstrapModule(AppModule)\n  .catch(err => console.error(err));\n"],"sourceRoot":""}